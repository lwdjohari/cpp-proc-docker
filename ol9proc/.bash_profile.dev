# .bash_profile

# Get the aliases and functions
if [ -f ~/.bashrc ]; then
        . ~/.bashrc
fi

# User specific environment and startup programs


#== PROC_DEV_PROFILE ==
[ -f "$HOME/.bashrc" ] && . "$HOME/.bashrc"

# --- Safe color defs (only if not already set) ---
: "${RED:=\033[0;31m}"
: "${GREEN:=\033[0;32m}"
: "${YELLOW:=\033[1;33m}"
: "${BLUE:=\033[1;34m}"
: "${CYAN:=\033[1;36m}"
: "${MAGENTA:=\033[1;35m}"
: "${BOLD:=\033[1m}"
: "${DIM:=\033[2m}"
: "${RESET:=\033[0m}"

# Pretty login banner (TTY only)
if [ -t 1 ]; then
  _now="$(date '+%Y-%m-%d %H:%M:%S')"
  _host="$(command -v hostname >/dev/null 2>&1 && hostname || echo unknown)"
  _user="$(id -un)"
  _uid="$(id -u)"
  _gid="$(id -g)"
  _sh="${SHELL##*/}"
  _ws="/workspace"
  _home="$HOME"


  # Box parts
  _w=78
  _hr=$(printf '%*s' "$_w" '' | tr ' ' 'â”€')
  _pad() { # pad to width
    local s="$1" fill
    local len=${#s}
    if [ "$len" -lt "$_w" ]; then
      fill=$(printf '%*s' "$(( _w - len ))" '')
      printf "%s%s" "$s" "$fill"
    else
      printf "%s" "$s"
    fi
  }

  
  echo -e "\n${CYAN}-----------------------------------------------------------------------------------------${RESET}"
  echo ""
  echo -e "$(_pad " ${BOLD}Pro*C/C++ Docker Dev Container${RESET}  ${DIM}${_now}${RESET}")"
  echo ""
  echo -e "${CYAN}-----------------------------------------------------------------------------------------${RESET}"
  echo -e "$(_pad " ${YELLOW}User${RESET}: ${BOLD}${_user}${RESET}  (uid=${_uid} gid=${_gid})  ${YELLOW}Host${RESET}: ${BOLD}${_host}${RESET}  ${YELLOW}Shell${RESET}: ${_sh}")"
  echo -e "$(_pad " ${YELLOW}Workspace${RESET}: ${_ws}    ${YELLOW}Home${RESET}: ${_home}")"
  echo -e ""
  # One-shot environment & tools snapshot
  devinfo
fi

